export interface ConsultingCardData {
  ticketNumber: string;
  title: string;
  description: string;
  date: string;
  responderName: string;
  responderPosition: string;
}

export const ticketsData: ConsultingCardData[] = [
  {
    ticketNumber: "T-1024",
    title: "چرا کد تأیید برای ورود به حساب کاربری من ارسال نمی‌شود؟",
    description:
      "این مشکل معمولاً به سه دلیل اصلی رخ می‌دهد. دلیل اول می‌تواند اختلال در درگاه ارسال پیامک سامانه باشد. "
      + "گاهی به‌دلیل حجم بالای ترافیک یا قطعی لحظه‌ای، پیامک‌های تأیید با تأخیر یا اصلاً ارسال نمی‌شوند. "
      + "دلیل دوم ممکن است مربوط به اپراتور کاربر باشد؛ برخی اپراتورها پیامک‌های تبلیغاتی یا سامانه‌ای را فیلتر می‌کنند و لازم است کاربر "
      + "گزینه دریافت پیامک‌های خدماتی را فعال کند. دلیل سوم معمولاً مربوط به وارد کردن شماره اشتباه یا محدودیت موقت به‌دلیل تعداد درخواست بالا است. "
      + "پیشنهاد می‌شود کاربر ابتدا چند دقیقه صبر کند، مجدداً درخواست ارسال کد دهد، گوشی را ریستارت کند و اگر باز هم موفق نشد، از قسمت «پشتیبانی» شماره خود را ارسال کند تا وضعیت خط به‌صورت دستی بررسی شود.",
    date: "13:24 ، دوشنبه ، 24 آبان",
    responderName: "علی رضایی",
    responderPosition: "کارشناس پشتیبانی فنی",
  },
  {
    ticketNumber: "T-1025",
    title: "چرا فایل‌هایی که آپلود می‌کنم در لیست مدارک نمایش داده نمی‌شوند؟",
    description:
      "معمولاً زمانی که فایل با موفقیت آپلود می‌شود اما در لیست مدارک قابل مشاهده نیست، مشکل از طرف کلاینت نیست و از سمت سرور یا API نمایش فایل‌ها رخ می‌دهد. "
      + "این موضوع زمانی اتفاق می‌افتد که فایل در سرور ذخیره شده اما هنگام واکشی لیست فایل‌ها، پاسخ API خالی یا ناقص بازمی‌گردد. "
      + "در برخی موارد نیز ممکن است کش مرورگر نسخه قدیمی لیست را نگه داشته باشد که با یک بار رفرش کامل (CTRL+F5) مشکل رفع می‌شود. "
      + "اگر فایل‌ها حجم زیادی داشته باشند یا ساختار نام فایل‌ها شامل کاراکترهای خاص باشد نیز ممکن است مشکل رخ دهد. "
      + "پیشنهاد می‌کنیم ابتدا مرورگر را رفرش کنید، سپس از یک مرورگر دیگر تست کنید. اگر مشکل همچنان باقی بود، احتمالاً سیستم ذخیره‌سازی یا مسیر فایل‌ها نیاز به بررسی فنی دارد.",
    date: "09:15 ، سه‌شنبه ، 22 آبان",
    responderName: "مریم احمدی",
    responderPosition: "کارشناس زیرساخت و ذخیره‌سازی",
  },
  {
    ticketNumber: "T-1026",
    title: "چرا بخش گزارشات ماهانه بسیار کند بارگذاری می‌شود؟",
    description:
      "کندی در لود گزارش‌ها معمولاً زمانی رخ می‌دهد که حجم داده‌های گزارش بسیار زیاد باشد و سامانه مجبور باشد هر بار اطلاعات را از ابتدا پردازش کند. "
      + "در برخی موارد، کوئری‌های دیتابیس بهینه نشده‌اند و این باعث می‌شود خواندن داده‌ها از جدول‌ها زمان‌بر باشد. "
      + "اگر چند کاربر هم‌زمان گزارشات مشابهی را باز کنند نیز فشار زیادی روی سرور ایجاد می‌شود و زمان پاسخ‌دهی افزایش می‌یابد. "
      + "پیشنهاد می‌کنیم ابتدا کش گزارشات فعال شود تا سامانه نیاز به پردازش تکراری نداشته باشد. همچنین، لازم است تیم فنی لاگ‌های پردازش سرور را بررسی و کوئری‌ها را Index گذاری کند. "
      + "در صورت ادامه مشکل، ممکن است نیاز به افزایش منابع سرور باشد.",
    date: "17:42 ، چهارشنبه ، 20 آبان",
    responderName: "سارا حیدری",
    responderPosition: "تحلیل‌گر سیستم و دیتابیس",
  },
  {
    ticketNumber: "T-1027",
    title: "چرا برای وظایف جدید هیچ نوتیفیکیشنی دریافت نمی‌کنم؟",
    description:
      "این مشکل معمولاً به دلیل اختلال در سیستم ارسال اعلان (Push Notification) یا غیرفعال بودن دسترسی‌های اعلان در گوشی رخ می‌دهد. "
      + "در بسیاری از موارد، FCM به دلیل تغییرات امنیتی یا بروزرسانی، نیاز به تنظیم مجدد دارد. "
      + "گاهی هم کاربران روی گوشی خود گزینه «بهینه‌سازی باتری» را فعال کرده‌اند که باعث جلوگیری از ارسال اعلان‌ها می‌شود. "
      + "اگر سیستم اعلان داخلی تست موفقیت‌آمیز داشته اما اعلان‌های وظایف ارسال نمی‌شود، مشکل از سمت تریگرهای سامانه است. "
      + "پیشنهاد می‌شود ابتدا از فعال بودن اعلان‌ها در تنظیمات گوشی مطمئن شوید، سپس اپلیکیشن را یک بار باز و بسته کنید تا Token اعلان مجدداً ثبت شود. "
      + "در نهایت اگر مشکل رفع نشد، لازم است تیم فنی وضعیت سرور ارسال اعلان را بررسی کند.",
    date: "11:03 ، شنبه ، 18 آبان",
    responderName: "رضا نصیری",
    responderPosition: "توسعه‌دهنده بک‌اند",
  },
  {
    ticketNumber: "T-1028",
    title: "چرا هنگام ثبت تیکت جدید با خطای 500 مواجه می‌شوم؟",
    description:
      "خطای 500 یک خطای سمت سرور است و نشان می‌دهد که مشکلی در پردازش درخواست شما توسط سرور رخ داده است. "
      + "این مشکل معمولاً زمانی ایجاد می‌شود که داده‌های ارسال شده از سمت کاربر ناقص یا خارج از ساختار مورد انتظار باشند، "
      + "یا زمانی که دیتابیس نتواند اطلاعات تیکت را ذخیره کند. "
      + "گاهی نیز خطا به دلیل بروزرسانی‌های هم‌زمان یا قطعی ارتباط بین سرویس‌های سامانه رخ می‌دهد. "
      + "پیشنهاد می‌کنیم ابتدا اطمینان حاصل کنید که عنوان تیکت خالی نیست و توضیحات شامل کاراکترهای غیرمجاز نیستند. "
      + "اگر همچنان خطا دریافت می‌کنید، احتمال زیاد مشکل از API است و تیم فنی باید لاگ‌های سرور را بررسی کند.",
    date: "08:57 ، دوشنبه ، 13 آبان",
    responderName: "نگین شریفی",
    responderPosition: "سرپرست تیم پشتیبانی",
  },
];

export const endedTicketsData: ConsultingCardData[] = [
  {
    ticketNumber: "T-1001",
    title: "چطور مشکل ارسال نشدن کد تأیید هنگام ورود حل شد؟",
    description:
      "پس از بررسی تیم فنی مشخص شد که اختلال از یکی از درگاه‌های ارسال پیامک بوده که در بازهٔ زمانی مشخص دچار قطعی شده بود. "
      + "با تغییر مسیر ارسال پیامک به درگاه پشتیبان و انجام تست‌های مکرر، مشکل کاملاً برطرف شد. "
      + "کاربران پس از اعمال این تغییر، بدون مشکل وارد سامانه شدند و کد تأیید به‌صورت فوری ارسال شد.",
    date: "19:40 ، پنجشنبه ، 10 آبان",
    responderName: "امیر موسوی",
    responderPosition: "مدیر فنی سامانه",
  },
  {
    ticketNumber: "T-1002",
    title: "گزارش عملکرد آبان ماه چطور تهیه و ارسال شد؟",
    description:
      "تمام بخش‌های گزارش اعم از بخش مالی، منابع انسانی، عملکرد هفتگی، پیشرفت پروژه‌ها و برنامه‌ریزی ماه آینده بررسی و تکمیل شدند. "
      + "سپس نسخه اولیه گزارش برای مدیر واحد ارسال شد تا اصلاحات لازم انجام شود. "
      + "پس از انجام اصلاحات نهایی، نسخه PDF و نسخه قابل ویرایش هر دو در سامانه بارگذاری و لینک آن برای مدیر سیستم ارسال شد.",
    date: "14:12 ، سه‌شنبه ، 8 آبان",
    responderName: "الهام کریمی",
    responderPosition: "کارشناس برنامه‌ریزی و گزارش‌دهی",
  },
  {
    ticketNumber: "T-1003",
    title: "نسخه جدید سامانه چه تغییراتی داشت و آیا با موفقیت نصب شد؟",
    description:
      "در نسخه 1.4.2 تمرکز ویژه‌ای روی بهبود عملکرد و سرعت سامانه انجام شد. "
      + "کوئری‌های سنگین بهینه‌سازی و سیستم کش فعال گردید تا زمان لود صفحات کاهش یابد. "
      + "همچنین چند مشکل امنیتی کوچک رفع شد و رابط کاربری بخش گزارشات به‌روز شد. "
      + "این نسخه پس از تست کامل در محیط تست، با موفقیت در سرور اصلی نصب شد و تمامی بخش‌ها بدون مشکل در حال اجرا هستند.",
    date: "09:22 ، یکشنبه ، 5 آبان",
    responderName: "پویا اکبری",
    responderPosition: "DevOps و مسئول استقرار",
  },
  {
    ticketNumber: "T-1004",
    title: "مشکل ارسال نشدن نوتیفیکیشن‌ها چگونه برطرف شد؟",
    description:
      "مشکل از سرویس FCM بود که به دلیل تغییرات اخیر نیاز به بروزرسانی کلیدهای دسترسی داشت. "
      + "پس از بروزرسانی Tokenها، ریست سرویس اعلان و بررسی لاگ‌ها، مشخص شد که پیام‌ها مجدداً به‌درستی ارسال می‌شوند. "
      + "چند کاربر تست انجام دادند و تأیید کردند که اعلان‌های مربوط به وظایف بدون تأخیر ارسال می‌شوند.",
    date: "16:55 ، جمعه ، 3 آبان",
    responderName: "سینا محمدی",
    responderPosition: "کارشناس زیرساخت ابری",
  },
];

export function moveTicketToEnded(ticketNumber: string) {
  const index = ticketsData.findIndex(
    (ticket) => ticket.ticketNumber === ticketNumber,
  );
  if (index === -1) return;

  const [ticket] = ticketsData.splice(index, 1);
  endedTicketsData.push(ticket);
}
